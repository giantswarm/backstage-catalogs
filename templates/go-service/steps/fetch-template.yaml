id: fetch-template
name: Template resources
action: fetch:template
input:
  url: https://github.com/giantswarm/backstage-catalogs/blob/main/templates/go-service/template
  values:
    project:
      name: ${{ parameters.name | dump }}
      description: ${{ parameters.description | dump }}
      owner: ${{ parameters.owner | parseEntityRef | pick('name') }}
      ownerRef: ${{ parameters.owner }}
      lifecycle: ${{ parameters.lifecycle }}
    projectRepository:
      owner: ${{ parameters.projectRepoOwner }}
    prRepository: ${{ parameters.prRepoUrl | parseRepoUrl }}
    deployment:
      installationName: ${{ parameters.deployment.installationName }}
      clusterName: ${{ parameters.deployment.clusterName }}
      clusterNamespace: ${{ parameters.deployment.clusterNamespace }}
      mcProviderConfig: ${{ parameters.deployment.mcProviderConfig }}
      wcProviderConfig: ${{ parameters.deployment.wcProviderConfig }}
      grafanaDashboard: ${{ parameters.grafanaDashboard }}
